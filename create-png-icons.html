<!DOCTYPE html>
<html>
<head>
    <title>–°–æ–∑–¥–∞–Ω–∏–µ PNG –∏–∫–æ–Ω–æ–∫ –¥–ª—è GitHub Pages</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .icon-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 20px 0; }
        .icon-item { text-align: center; border: 1px solid #ddd; padding: 10px; border-radius: 8px; }
        canvas { border: 1px solid #ccc; }
        button { background: #2196F3; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; margin: 5px; }
        .download-all { background: #4CAF50; font-size: 1.2rem; padding: 15px 30px; }
    </style>
</head>
<body>
    <h1>üé® –°–æ–∑–¥–∞–Ω–∏–µ PNG –∏–∫–æ–Ω–æ–∫ –¥–ª—è ParkEasyKG</h1>
    <p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ PNG –∏–∫–æ–Ω–∫–∏ –¥–ª—è GitHub Pages —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.</p>
    
    <button class="download-all" onclick="createAllIcons()">üì¶ –°–æ–∑–¥–∞—Ç—å –∏ —Å–∫–∞—á–∞—Ç—å –≤—Å–µ –∏–∫–æ–Ω–∫–∏</button>
    <button onclick="createZipArchive()">üìÅ –°–∫–∞—á–∞—Ç—å ZIP –∞—Ä—Ö–∏–≤</button>
    
    <div id="status"></div>
    
    <div class="icon-grid" id="icon-grid"></div>

    <script>
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
        let createdIcons = {};
        
        function createIcon(size) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = size;
            canvas.height = size;
            
            // –§–æ–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#2196F3');
            gradient.addColorStop(1, '#1976D2');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, size, size);
            
            // –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å–ø–æ—Å–æ–±)
            ctx.globalCompositeOperation = 'destination-in';
            ctx.beginPath();
            const radius = size * 0.125;
            ctx.moveTo(radius, 0);
            ctx.lineTo(size - radius, 0);
            ctx.quadraticCurveTo(size, 0, size, radius);
            ctx.lineTo(size, size - radius);
            ctx.quadraticCurveTo(size, size, size - radius, size);
            ctx.lineTo(radius, size);
            ctx.quadraticCurveTo(0, size, 0, size - radius);
            ctx.lineTo(0, radius);
            ctx.quadraticCurveTo(0, 0, radius, 0);
            ctx.closePath();
            ctx.fill();
            ctx.globalCompositeOperation = 'source-over';
            
            // –ë–µ–ª—ã–π –∫—Ä—É–≥
            ctx.fillStyle = 'white';
            ctx.beginPath();
            ctx.arc(size/2, size/2, size/3, 0, 2 * Math.PI);
            ctx.fill();
            
            // –°–∏–º–≤–æ–ª P
            ctx.fillStyle = '#2196F3';
            ctx.font = `bold ${size/3}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('P', size/2, size/2);
            
            // –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å (–¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–∫–æ–Ω–æ–∫)
            if (size >= 192) {
                const carSize = size * 0.15;
                const carX = size * 0.7;
                const carY = size * 0.7;
                
                // –ö—É–∑–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
                ctx.fillStyle = 'white';
                ctx.fillRect(carX, carY, carSize, carSize * 0.6);
                
                // –ö–æ–ª–µ—Å–∞
                ctx.fillStyle = '#333';
                ctx.beginPath();
                ctx.arc(carX + carSize * 0.2, carY + carSize * 0.7, carSize * 0.1, 0, 2 * Math.PI);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(carX + carSize * 0.8, carY + carSize * 0.7, carSize * 0.1, 0, 2 * Math.PI);
                ctx.fill();
            }
            
            return canvas;
        }
        
        function createAllIcons() {
            const grid = document.getElementById('icon-grid');
            const status = document.getElementById('status');
            grid.innerHTML = '';
            status.innerHTML = '<p>üîÑ –°–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫...</p>';
            
            sizes.forEach((size, index) => {
                setTimeout(() => {
                    const canvas = createIcon(size);
                    
                    // –°–æ–∑–¥–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    const item = document.createElement('div');
                    item.className = 'icon-item';
                    item.innerHTML = `
                        <h3>${size}x${size}</h3>
                        <div>${canvas.outerHTML}</div>
                        <button onclick="downloadIcon(${size})">–°–∫–∞—á–∞—Ç—å</button>
                    `;
                    grid.appendChild(item);
                    
                    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å canvas –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                    createdIcons[size] = canvas;
                    
                    // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
                    status.innerHTML = `<p>‚úÖ –°–æ–∑–¥–∞–Ω–æ –∏–∫–æ–Ω–æ–∫: ${index + 1}/${sizes.length}</p>`;
                    
                    if (index === sizes.length - 1) {
                        status.innerHTML += '<p>üéâ –í—Å–µ –∏–∫–æ–Ω–∫–∏ –≥–æ—Ç–æ–≤—ã! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–∫–∞—á–∏–≤–∞—Ç—å.</p>';
                    }
                }, index * 200);
            });
        }
        
        function downloadIcon(size) {
            const canvas = createdIcons[size];
            if (!canvas) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏–∫–æ–Ω–∫–∏!');
                return;
            }
            
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `icon-${size}x${size}.png`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });
        }
        
        function createZipArchive() {
            if (Object.keys(createdIcons).length === 0) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏–∫–æ–Ω–∫–∏!');
                return;
            }
            
            // –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫ - —Å–∫–∞—á–∞–µ–º –ø–æ –æ–¥–Ω–æ–π
            alert('–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∫–æ–Ω–æ–∫ –ø–æ –æ–¥–Ω–æ–π (ZIP —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É)');
            sizes.forEach(size => {
                if (createdIcons[size]) {
                    setTimeout(() => downloadIcon(size), size);
                }
            });
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Ç—å –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            setTimeout(createAllIcons, 500);
        };
    </script>
</body>
</html>